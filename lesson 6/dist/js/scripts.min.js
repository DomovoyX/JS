let openBtn 		= document.getElementById('open-btn'),
nameValue 			= document.getElementsByClassName('name-value')[0],
budgetValue 		= document.getElementsByClassName('budget-value')[0],
goodsValue 			= document.getElementsByClassName('goods-value')[0],
itemsValue 			= document.getElementsByClassName('items-value')[0],
employersValue 	= document.getElementsByClassName('employers-value')[0],
discountValue 	= document.getElementsByClassName('discount-value')[0],
isopenValue 		= document.getElementsByClassName('isopen-value')[0],
goodsItem 			= document.getElementsByClassName('goods-item'), 
goodsBtn				= document.getElementsByTagName('button')[1], 
budgetBtn				= document.getElementsByTagName('button')[2], 
employersBtn		= document.getElementsByTagName('button')[3], 
chooseItem			= document.querySelector('.choose-item'),
timeValue				= document.querySelector('.time-value'),
countBudgetValue= document.querySelector('.count-budget-value'),
inputEmployers	= document.querySelectorAll('.hire-employers-item');

let money,
minBudget,
price;

openBtn.addEventListener('click', () => {
	money = prompt('Ваш бюджет?', '');
	while	(isNaN(money) || money == '' || money == null) {
		money = prompt('Ваш бюджет?', '');
	}
	budgetValue.textContent = money;
	nameValue.textContent	= prompt('Название вашего магазина?', '').toUpperCase();
	mainList.discount 	= prompt('Дисконтная система, введите true / false.', '');
	if (mainList.discount == 'true') {
		discountValue.value = price * 0.8;
		discountValue.style.backgroundColor = '#16a52f';
	} else {
		discountValue.style.backgroundColor = '#ffb6b6';
	};
});

goodsBtn.addEventListener('click', () => {
	if (goodsValue.textContent == '') {
		for (let i = 0; i < goodsItem.length; i++) {
			if (goodsItem[0].checkValidity() && goodsItem[1].checkValidity() && goodsItem[2].checkValidity() && goodsItem[3].checkValidity()) {
				let a = goodsItem[i].value;
				if ((typeof(a)) === 'string' && (typeof(a)) != 'null' && a.length < 50){
					mainList.shopGoods[i] = a;
					goodsValue.textContent = mainList.shopGoods;
				} 
			}
		} 
	} 
});

chooseItem.addEventListener('change', () => {
	let items = chooseItem.value;
	if (isNaN(items) && items != ''){
		mainList.shopItems = items.split(', ');
		mainList.shopItems.sort();
		itemsValue.textContent = mainList.shopItems;
	}
});

timeValue.addEventListener('change', () => {
	let time = timeValue.value;
	if (time > 8 && time < 20) {
		console.log('Магазин открыт');
		mainList.open = true;
	} else if ( time > 12 && time < 13) {
		console.log('Обед');
	} else {
		console.log('Магазин закрыт');
		mainList.open = false;
	};
	if (mainList.open == true) {
		isopenValue.style.backgroundColor = '#16a52f';
	} else {
		isopenValue.style.backgroundColor = '#ffb6b6';
	};
});

budgetBtn.addEventListener('click', () => {
	countBudgetValue.value = (money / 30).toFixed(2);
});

employersBtn.addEventListener('click', () => {
	employersValue.textContent = '';
	for (let i = 0; i < inputEmployers.length; i++) {
		if (inputEmployers[0].checkValidity() && inputEmployers[1].checkValidity() && inputEmployers[2].checkValidity()) {
			let a = inputEmployers[i].value;
			if ((typeof(a)) === 'string' && (typeof(a)) !== 'null' && a.length < 20){
				mainList.employers[i] = a;
				employersValue.textContent += mainList.employers[i] + ', ';
			}
		} 
	}
});

let mainList = {
	budget: money,
	budgetOneDay: minBudget,
	shopName: name,
	shopGoods: [],
	timeWork: time,
	employers: {},
	open: false,
	discount: '',
	shopItems: [],
};

/*
for( let key in mainList){
	console.log('Наш магазин включает в себя ' + key);
};*/